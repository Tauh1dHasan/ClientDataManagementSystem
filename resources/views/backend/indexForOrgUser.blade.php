@extends('backend.layouts.app')

@section('content')
    <div id="content" class="app-content">
        <div class="row">
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Send Applications </span>
                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">20</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-envelope-open-text fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total Application Send By Us <br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Pending Applications</span>

                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">10</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-hourglass-half fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total pending applications<br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Reported Applications</span>
                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">50</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-check-circle fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total reported applications<br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Links</span>
                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">200</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-link fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total links Send By Us <br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Active Links</span>
                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">100</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-link fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total active links<br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="col-xl-3 col-lg-6">
                <div class="card mb-3">
                    <a href="#" style="text-decoration: none">
                        <div class="card-body">
                            <div class="d-flex fw-bold mb-3">
                                <span class="flex-grow-1 db-card-title">Total Removed Links</span>
                            </div>
                            <div class="row align-items-center mb-2">
                                <div class="col-7">
                                    <h3 class="mb-0">100</h3>
                                </div>
                                <div class="col-5">
                                    <i class="fas fa-link fa-4x fa-fw me-1 text-success"></i>
                                </div>
                            </div>
                            <div class="text-inverse text-opacity-50 text-truncate">
                                Total removed links<br>
                            </div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                    </a>
                </div>
            </div>
            
        </div>

        <div class="row">

            <div class="col-xl-6">
                <div id="apexChartColumnChart" class="mb-5">
                    <div class="card">
                        <div class="card-body">
                            <h6 style="display: inline;">Year, Monthly Send Link</h6>
                            <a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none">
                                <i class="bi bi-fullscreen"></i>
                            </a>
                            <div id="apexColumnChart"></div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                        <div class="hljs-container">
                            <pre><code class="xml"></code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-6">
                <div id="apexChartBarChart" class="mb-5">
                    <div class="card">
                        <div class="card-body">
                            <h6 style="display: inline;">Yearly Send, Removed Link</h6>
                            <a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none">
                                <i class="bi bi-fullscreen"></i>
                            </a>
                            <div id="apexBarChart"></div>
                        </div>
                        <div class="card-arrow">
                            <div class="card-arrow-top-left"></div>
                            <div class="card-arrow-top-right"></div>
                            <div class="card-arrow-bottom-left"></div>
                            <div class="card-arrow-bottom-right"></div>
                        </div>
                        <div class="hljs-container">
                            <pre><code class="xml"></code></pre>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
@endsection

@push('script')
    <script>
        var handleRenderApexChart = function() {
            Apex = {
                title: {
                    style: {
                        fontSize: '14px',
                        fontWeight: '600',
                        fontFamily: app.font.bodyFontFamily,
                        color: app.color.bodyColor
                    }
                },

                legend: {
                    fontFamily: app.font.bodyFontFamily,
                    labels: { colors: app.color.bodyColor }
                },

                tooltip: {
                    style: {
                        fontSize: '12px',
                        fontFamily: app.font.bodyFontFamily
                    }
                },

                grid: { borderColor: app.color.borderColor },

                dataLabels: {
                    style: {
                        fontSize: '12px',
                        fontFamily: app.font.bodyFontFamily,
                        fontWeight: '600',
                        colors: undefined
                    }
                },

                xaxis: {
                    axisBorder: {
                        show: true,
                        color: app.color.borderColor,
                        height: 1,
                        width: '100%',
                        offsetX: 0,
                        offsetY: -1
                    },

                    axisTicks: {
                        show: true,
                        borderType: 'solid',
                        color: app.color.borderColor,
                        height: 6,
                        offsetX: 0,
                        offsetY: 0
                    },

                    labels: {
                        style: {
                            colors: app.color.bodyColor,
                            fontSize: '12px',
                            fontFamily: app.font.bodyFontFamily,
                            fontWeight: app.font.bodyFontWeight,
                            cssClass: 'apexcharts-xaxis-label',
                        }
                    }
                },

                yaxis: {
                    labels: {
                        style: {
                            colors: app.color.bodyColor,
                            fontSize: '12px',
                            fontFamily: app.font.bodyFontFamily,
                            fontWeight: app.font.bodyFontWeight,
                            cssClass: 'apexcharts-xaxis-label',
                        }
                    }
                }
            };


            // apexColumnChart
            var apexColumnChartOptions = {
                chart: {
                    height: 350,
                    type: 'bar'
                },
                // title: {
                //     text: 'Year, Monthly Received Link',
                //     align: 'left'
                // },
                plotOptions: {
                    bar: {
                        horizontal: false,
                        columnWidth: '55%',
                        endingShape: 'rounded'	
                    },
                },
                dataLabels: { enabled: false },
                stroke: {
                    show: true,
                    width: 2,
                    colors: ['transparent']
                },
                colors: [app.color.theme, app.color.indigo, app.color.inverse],
                series: [
                    { 
                        name: 'Link Count', 
                        data: [
                            100,200,300,400,500,600,700,800,900,1000,1100,1200
                        ] 
                    },

                ],

                xaxis: 
                    { 
                        categories: 
                        [
                            Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
                        ] 
                    },


                yaxis: {
                    title: {
                        text: 'Link Count',
                        style: {
                            color: 'rgba('+ app.color.bodyColorRgb + ', .5)',
                            fontSize: '12px',
                            fontFamily: app.font.bodyFontFamily,
                            fontWeight: app.font.bodyFontWeight
                        }
                    }
                },
                fill: { opacity: 1 },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val + " Links"
                        }
                    }
                }
            };
            var apexColumnChart = new ApexCharts(
                document.querySelector('#apexColumnChart'),
                apexColumnChartOptions
            );
            apexColumnChart.render();



            // apexBarChart
            var apexBarChartOptions = {
                chart: {
                    height: 350,
                    type: 'bar',
                },
                // title: {
                //     text: 'Yearly Received, Removed Link',
                //     align: 'left'
                // },
                plotOptions: {
                    bar: {
                        horizontal: true,
                        dataLabels: { position: 'top' }
                    }  
                },
                dataLabels: {
                    enabled: true,
                    offsetX: -6,
                    style: 
                    {
                        fontSize: '12px',
                        colors: [app.color.white]
                    }
                },
                colors: [app.color.warning, app.color.gray500],
                stroke: { show: false },
                series: [
                    { 
                        name: 'Received', 
                        data: [
                            20,30,40,50,60
                        ] 
                    },
                    { 
                        name: 'Removed', 
                        data: [
                            10,20,30,40,50
                        ] 
                    }
                ],
                xaxis: {
                    categories: 
                    [
                        2019,2020,2021,2022,2023
                    ],
                    axisBorder: {
                        show: true,
                        color: app.color.borderColor,
                        height: 1,
                        width: '100%',
                        offsetX: 0,
                        offsetY: -1
                    },
                    axisTicks: {
                        show: true,
                        borderType: 'solid',
                        color: app.color.borderColor,
                        height: 6,
                        offsetX: 0,
                        offsetY: 0
                    }
                }
            };
            var apexBarChart = new ApexCharts(
                document.querySelector('#apexBarChart'),
                apexBarChartOptions
            );
            apexBarChart.render();

        };

        /* Controller
        ------------------------------------------------ */
        $(document).ready(function() {
            handleRenderApexChart();
            
            $(document).on('theme-reload', function() {
                $('#apexColumnChart', '#apexBarChart').empty();
                
                handleRenderApexChart();
            });
        });
    </script>
@endpush